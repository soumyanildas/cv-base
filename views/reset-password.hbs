<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Reset Password</title>
  <style>
    .form {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin-top: 200px;
    }

    input {
      width: 400px;
    }

    .error-message {
      color: red;
      font-size: 12px;
      display: none;
    }
  </style>
</head>

<body>
  {{#if error }}
  <h1>{{ message }}</h1>
  {{else}}
  <form method="post" action="/submit" onsubmit="return validate()" class="form">

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" title="Email" value={{email}} disabled />

    <label for="newPassword">New Password:</label>
    <input type="password" id="newPassword" name="newPassword" title="New password" />

    <label for="confirmPassword">Confirm Password:</label>
    <input type="password" id="confirmPassword" name="confirmPassword" title="Confirm new password" />
    <p class="error-message">Password mismatch</p>

    <p class="form-actions">
      <button type="submit">Reset Password</button>
    </p>

  </form>
  {{/if}}
  <script>
    function validate() {
      const password = document.getElementById("newPassword").value;
      const confirmPassword = document.getElementById("confirmPassword").value;
      if ((password === '' || confirmPassword === '') || (password != confirmPassword)) {
        document.querySelector('.error-message').style.display = 'block';
        return false;
      }
      document.querySelector('.error-message').style.display = 'none';
      return true;
    }
  </script>
</body>

</html>